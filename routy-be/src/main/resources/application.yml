server:
  port: 7777

spring:
  config:
    import: optional:classpath:application-secret.yml

  security:
    oauth2:
      client:
        registration:
          google:
            client-id: ${GOOGLE_CLIENT_ID}
            client-secret: ${GOOGLE_CLIENT_SECRET}
            scope:
              - email
              - profile

          naver:
            client-id: ${NAVER_CLIENT_ID}
            client-secret: ${NAVER_CLIENT_SECRET}
            client-authentication-method: client_secret_post
            authorization-grant-type: authorization_code
            redirect-uri: http://localhost/api/login/oauth2/code/naver
            scope:
              - name
              - email
              - profile_image

            client-name: Naver

          kakao:
            client-id: ${KAKAO_CLIENT_ID}
            client-secret: ${KAKAO_CLIENT_SECRET}
            client-authentication-method: client_secret_post
            authorization-grant-type: authorization_code
            redirect-uri: http://localhost/api/login/oauth2/code/kakao
            scope:
              - profile_nickname
              - profile_image
              - account_email
              - phone_number
              - gender
              - birthYear
            client-name: Kakao

        provider:
          naver:
            ## 항상 정보제공창 보이는 파라미터
            authorization-uri: https://nid.naver.com/oauth2.0/authorize?auth_type=reprompt
#            authorization-uri: https://nid.naver.com/oauth2.0/authorize
            token-uri: https://nid.naver.com/oauth2.0/token
            user-info-uri: https://openapi.naver.com/v1/nid/me
            user-name-attribute: response

          kakao:
#            authorization-uri: https://kauth.kakao.com/oauth/authorize?prompt=login  ## 항상 로그인창 보이는 파라미터
            authorization-uri: https://kauth.kakao.com/oauth/authorize
            token-uri: https://kauth.kakao.com/oauth/token
            user-info-uri: https://kapi.kakao.com/v2/user/me
            user-name-attribute: id

  mail:
    host: smtp.gmail.com
    port: 587
    username: ${MAIL_USERNAME}
    password: ${MAIL_PASSWORD}
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
            required: true
          connectiontimeout: 5000
          timeout: 5000
          writetimeout: 5000
    auth-code-expiration-millis: 1800000  # 30분

  datasource:
    driver-class-name: org.mariadb.jdbc.Driver
    url: ${DB_URL}
    username: ${DB_USERNAME}
    password: ${DB_PASSWORD}

  jpa:
    hibernate:
      ddl-auto: none
    show-sql: true
    database-platform: org.hibernate.dialect.MariaDBDialect
    properties:
      hibernate:
        format_sql: true

mybatis:
  mapper-locations: classpath:mapper/**/*.xml
  type-aliases-package: com.c4.routy.domain
  configuration:
    log-impl: org.apache.ibatis.logging.stdout.StdOutImpl

  servlet:
    multipart:
      max-file-size: 10MB  # 업로드할 수 있는 개별 파일의 최대 크기. 기본 1MB
      max-request-size: 10MB # multipart/form-data 요청의 최대 허용 크기. 기본 10MB

token:
  expiration_time: ${TOKEN_EXPIRATION_TIME}
  secret: ${JWT_SECRET}

# AWS S3
cloud:
  aws:
    credentials:
      access-key: ${ACCESS_KEY}
      secret-key: ${SECRET_ACCESS_KEY}
    region:
      static: ap-northeast-2  # 버킷의 리전
    s3:
      bucket: routy-service   # 버킷 이름
    stack:
      auto: false

## s3 버킷 폴더
folder:
  profile: profile-images/
  review:  review-images/

## 기본 프로필 이미지
app:
  default-profile-image: ${DEFAULT_PROFILE}
  default-plan-image: ${DEFAULT_PLAN}

kakao:
  api-key: ${KAKAO_PLACE_API_KEY}

kakao-url: https://dapi.kakao.com/v2/local/search/category.json

openai:
  secret-key: ${OPENAI_KEY}

maps:
  kakao:
    api_key: ${KAKAO_REST_API_KEY}
    directions_uri: ${KAKAO_MAPS_DIRECTIONS_URI}
    waypoints_uri: ${KAKAO_MAPS_WAYPOINTS_DIRECTIONS_URI}
