<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.c4.routy.domain.duration.mapper.DurationMapper">

    <!-- 특정 planId로 duration 목록 조회 -->
    <select id="findByPlanId" resultType="com.c4.routy.domain.duration.entity.DurationEntity">
        SELECT
            duration_id AS durationId,
            day,
            plan_id AS planId
        FROM tbl_duration
        WHERE plan_id = #{planId}
        ORDER BY day ASC
    </select>

    <!-- planId + day로 durationId 단일 조회 -->
    <select id="findDurationIdByPlanIdAndDay" resultType="int">
        SELECT duration_id
        FROM tbl_duration
        WHERE plan_id = #{planId} AND day = #{day}
            LIMIT 1
    </select>

</mapper>
